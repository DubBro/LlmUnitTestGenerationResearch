<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>D:\Programming\Projects\LlmUnitTestGenerationArtifacts\Qwen3Coder30BUnitTests\Sample2Tests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Dataset.Sample2;
using NSubstitute;

namespace Qwen3Coder30BUnitTests
{
    public class EmployeeServiceTests
    {
        private readonly IEmployeeRepository _employeeRepository;
        private readonly EmployeeService _employeeService;

        public EmployeeServiceTests()
        {
            _employeeRepository = Substitute.For&lt;IEmployeeRepository&gt;();
            _employeeService = new EmployeeService(_employeeRepository);
        }

        [Fact]
        public async Task GetAsync_WhenCalled_ReturnsEmployeeModel()
        {
            // Arrange
            var employeeEntity = new EmployeeEntity
            {
                Id = 1,
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            _employeeRepository.GetAsync(1).Returns(employeeEntity);

            // Act
            var result = await _employeeService.GetAsync(1);

            // Assert
            Assert.Equal(1, result.Id);
            Assert.Equal(&quot;John&quot;, result.FirstName);
            Assert.Equal(&quot;Doe&quot;, result.LastName);
            Assert.Equal(&quot;Smith&quot;, result.MiddleName);
            Assert.Equal(new DateTime(1980, 1, 1), result.BirthDate);
            Assert.Equal(&quot;USA&quot;, result.Country);
            Assert.Equal(&quot;New York&quot;, result.City);
            Assert.Equal(&quot;123 Main St&quot;, result.Address);
            Assert.Equal(&quot;+123456789012&quot;, result.Phone);
            Assert.Equal(new DateTime(2010, 1, 1), result.HireDate);
            Assert.Equal(50000, result.Salary);
            Assert.Equal(1, result.DepartmentId);
            Assert.Equal(&quot;IT&quot;, result.Department);
            Assert.Equal(1, result.PositionId);
            Assert.Equal(&quot;Developer&quot;, result.Position);
        }

        [Fact]
        public async Task ListAsync_WhenCalled_ReturnsEmployeeModels()
        {
            // Arrange
            var employeeEntities = new List&lt;EmployeeEntity&gt;
            {
                new EmployeeEntity
                {
                    Id = 1,
                    FirstName = &quot;John&quot;,
                    LastName = &quot;Doe&quot;,
                    MiddleName = &quot;Smith&quot;,
                    BirthDate = new DateTime(1980, 1, 1),
                    Country = &quot;USA&quot;,
                    City = &quot;New York&quot;,
                    Address = &quot;123 Main St&quot;,
                    Phone = &quot;+123456789012&quot;,
                    HireDate = new DateTime(2010, 1, 1),
                    Salary = 50000,
                    DepartmentId = 1,
                    Department = &quot;IT&quot;,
                    PositionId = 1,
                    Position = &quot;Developer&quot;
                }
            };

            _employeeRepository.ListAsync().Returns(employeeEntities);

            // Act
            var result = await _employeeService.ListAsync();

            // Assert
            Assert.Single(result);
            Assert.Equal(1, result.First().Id);
            Assert.Equal(&quot;John&quot;, result.First().FirstName);
        }

        [Fact]
        public async Task ListFilteredAsync_WhenNoFiltersProvided_ReturnsAllEmployees()
        {
            // Arrange
            var employeeEntities = new List&lt;EmployeeEntity&gt;
            {
                new EmployeeEntity
                {
                    Id = 1,
                    FirstName = &quot;John&quot;,
                    LastName = &quot;Doe&quot;,
                    MiddleName = &quot;Smith&quot;,
                    BirthDate = new DateTime(1980, 1, 1),
                    Country = &quot;USA&quot;,
                    City = &quot;New York&quot;,
                    Address = &quot;123 Main St&quot;,
                    Phone = &quot;+123456789012&quot;,
                    HireDate = new DateTime(2010, 1, 1),
                    Salary = 50000,
                    DepartmentId = 1,
                    Department = &quot;IT&quot;,
                    PositionId = 1,
                    Position = &quot;Developer&quot;
                }
            };

            _employeeRepository.ListAsync().Returns(employeeEntities);

            // Act
            var result = await _employeeService.ListFilteredAsync(
                name: null,
                country: null,
                city: null,
                minSalary: 0,
                maxSalary: 0,
                departmentId: 0,
                positionId: 0);

            // Assert
            Assert.Single(result);
        }

        [Fact]
        public async Task ListFilteredAsync_WhenFiltersProvided_ReturnsFilteredEmployees()
        {
            // Arrange
            var employeeEntities = new List&lt;EmployeeEntity&gt;
            {
                new EmployeeEntity
                {
                    Id = 1,
                    FirstName = &quot;John&quot;,
                    LastName = &quot;Doe&quot;,
                    MiddleName = &quot;Smith&quot;,
                    BirthDate = new DateTime(1980, 1, 1),
                    Country = &quot;USA&quot;,
                    City = &quot;New York&quot;,
                    Address = &quot;123 Main St&quot;,
                    Phone = &quot;+123456789012&quot;,
                    HireDate = new DateTime(2010, 1, 1),
                    Salary = 50000,
                    DepartmentId = 1,
                    Department = &quot;IT&quot;,
                    PositionId = 1,
                    Position = &quot;Developer&quot;
                }
            };

            _employeeRepository.ListFilteredAsync(
                name: &quot;John&quot;,
                country: null,
                city: null,
                minSalary: 0,
                maxSalary: 0,
                departmentId: 0,
                positionId: 0).Returns(employeeEntities);

            // Act
            var result = await _employeeService.ListFilteredAsync(
                name: &quot;John&quot;,
                country: null,
                city: null,
                minSalary: 0,
                maxSalary: 0,
                departmentId: 0,
                positionId: 0);

            // Assert
            Assert.Single(result);
        }

        [Fact]
        public async Task AddAsync_WhenValidEmployeeModelProvided_AddsEmployee()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            _employeeRepository.AddAsync(Arg.Any&lt;EmployeeEntity&gt;()).Returns(1);

            // Act
            var result = await _employeeService.AddAsync(employeeModel);

            // Assert
            Assert.Equal(1, result);
        }

        [Fact]
        public async Task AddAsync_WhenInvalidEmployeeModelProvided_ThrowsArgumentNullException()
        {
            // Arrange
            EmployeeModel employeeModel = null;

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentNullException&gt;(() =&gt; _employeeService.AddAsync(employeeModel));
        }

        [Fact]
        public async Task AddAsync_WhenInvalidFirstNameProvided_ThrowsArgumentException()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                FirstName = &quot;&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentException&gt;(() =&gt; _employeeService.AddAsync(employeeModel));
        }

        [Fact]
        public async Task AddAsync_WhenInvalidLastNameProvided_ThrowsArgumentException()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                FirstName = &quot;John&quot;,
                LastName = &quot;&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentException&gt;(() =&gt; _employeeService.AddAsync(employeeModel));
        }

        [Fact]
        public async Task AddAsync_WhenInvalidMiddleNameProvided_ThrowsArgumentException()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentException&gt;(() =&gt; _employeeService.AddAsync(employeeModel));
        }

        [Fact]
        public async Task AddAsync_WhenInvalidBirthDateProvided_ThrowsArgumentException()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1940, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentException&gt;(() =&gt; _employeeService.AddAsync(employeeModel));
        }

        [Fact]
        public async Task AddAsync_WhenInvalidPhoneProvided_ThrowsArgumentException()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;1234567890&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentException&gt;(() =&gt; _employeeService.AddAsync(employeeModel));
        }

        [Fact]
        public async Task AddAsync_WhenInvalidHireDateProvided_ThrowsArgumentException()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(1950, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentException&gt;(() =&gt; _employeeService.AddAsync(employeeModel));
        }

        [Fact]
        public async Task AddAsync_WhenInvalidSalaryProvided_ThrowsArgumentException()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 0,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentException&gt;(() =&gt; _employeeService.AddAsync(employeeModel));
        }

        [Fact]
        public async Task AddAsync_WhenInvalidDepartmentIdProvided_ThrowsArgumentException()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 0,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentException&gt;(() =&gt; _employeeService.AddAsync(employeeModel));
        }

        [Fact]
        public async Task AddAsync_WhenInvalidPositionIdProvided_ThrowsArgumentException()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 0,
                Position = &quot;Developer&quot;
            };

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentException&gt;(() =&gt; _employeeService.AddAsync(employeeModel));
        }

        [Fact]
        public async Task UpdateAsync_WhenValidEmployeeModelProvided_UpdatesEmployee()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                Id = 1,
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            _employeeRepository.UpdateAsync(Arg.Any&lt;EmployeeEntity&gt;()).Returns(1);

            // Act
            var result = await _employeeService.UpdateAsync(employeeModel);

            // Assert
            Assert.Equal(1, result);
        }

        [Fact]
        public async Task UpdateAsync_WhenInvalidEmployeeModelProvided_ThrowsArgumentNullException()
        {
            // Arrange
            EmployeeModel employeeModel = null;

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentNullException&gt;(() =&gt; _employeeService.UpdateAsync(employeeModel));
        }

        [Fact]
        public async Task UpdateAsync_WhenInvalidIdProvided_ThrowsArgumentException()
        {
            // Arrange
            var employeeModel = new EmployeeModel
            {
                Id = 0,
                FirstName = &quot;John&quot;,
                LastName = &quot;Doe&quot;,
                MiddleName = &quot;Smith&quot;,
                BirthDate = new DateTime(1980, 1, 1),
                Country = &quot;USA&quot;,
                City = &quot;New York&quot;,
                Address = &quot;123 Main St&quot;,
                Phone = &quot;+123456789012&quot;,
                HireDate = new DateTime(2010, 1, 1),
                Salary = 50000,
                DepartmentId = 1,
                Department = &quot;IT&quot;,
                PositionId = 1,
                Position = &quot;Developer&quot;
            };

            // Act &amp; Assert
            await Assert.ThrowsAsync&lt;ArgumentException&gt;(() =&gt; _employeeService.UpdateAsync(employeeModel));
        }

        [Fact]
        public async Task DeleteAsync_WhenCalled_DeletesEmployee()
        {
            // Arrange
            _employeeRepository.DeleteAsync(1).Returns(1);

            // Act
            var result = await _employeeService.DeleteAsync(1);

            // Assert
            Assert.Equal(1, result);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[11,9,11,38,1],[12,9,12,10,1],[13,13,13,73,1],[14,13,14,73,1],[15,9,15,10,1],[19,9,19,10,1],[21,13,38,15,1],[40,13,40,69,1],[43,13,43,61,1],[46,13,46,40,1],[47,13,47,52,1],[48,13,48,50,1],[49,13,49,54,1],[50,13,50,70,1],[51,13,51,49,1],[52,13,52,51,1],[53,13,53,57,1],[54,13,54,57,1],[55,13,55,69,1],[56,13,56,48,1],[57,13,57,50,1],[58,13,58,51,1],[59,13,59,48,1],[60,13,60,56,1],[61,9,61,10,1],[65,9,65,10,1],[67,13,87,15,1],[89,13,89,71,1],[92,13,92,61,1],[95,13,95,35,1],[96,13,96,48,1],[97,13,97,60,1],[98,9,98,10,1],[102,9,102,10,1],[104,13,124,15,1],[126,13,126,71,1],[129,13,136,32,1],[139,13,139,35,1],[140,9,140,10,1],[144,9,144,10,1],[146,13,166,15,1],[168,13,175,58,1],[178,13,185,32,1],[188,13,188,35,1],[189,9,189,10,1],[193,9,193,10,1],[195,13,211,15,1],[213,13,213,80,1],[216,13,216,73,1],[219,13,219,37,1],[220,9,220,10,1],[224,9,224,10,1],[226,13,226,48,1],[229,13,229,67,1],[229,67,229,107,1],[229,107,229,109,1],[230,9,230,10,1],[234,9,234,10,1],[236,13,252,15,1],[255,13,255,63,1],[255,63,255,103,1],[255,103,255,105,1],[256,9,256,10,1],[260,9,260,10,1],[262,13,278,15,1],[281,13,281,63,1],[281,63,281,103,1],[281,103,281,105,1],[282,9,282,10,1],[286,9,286,10,1],[288,13,304,15,1],[307,13,307,63,1],[307,63,307,103,1],[307,103,307,105,1],[308,9,308,10,1],[312,9,312,10,1],[314,13,330,15,1],[333,13,333,63,1],[333,63,333,103,1],[333,103,333,105,1],[334,9,334,10,1],[338,9,338,10,1],[340,13,356,15,1],[359,13,359,63,1],[359,63,359,103,1],[359,103,359,105,1],[360,9,360,10,0],[364,9,364,10,1],[366,13,382,15,1],[385,13,385,63,1],[385,63,385,103,1],[385,103,385,105,1],[386,9,386,10,1],[390,9,390,10,1],[392,13,408,15,1],[411,13,411,63,1],[411,63,411,103,1],[411,103,411,105,1],[412,9,412,10,1],[416,9,416,10,1],[418,13,434,15,1],[437,13,437,63,1],[437,63,437,103,1],[437,103,437,105,1],[438,9,438,10,1],[442,9,442,10,1],[444,13,460,15,1],[463,13,463,63,1],[463,63,463,103,1],[463,103,463,105,1],[464,9,464,10,1],[468,9,468,10,1],[470,13,487,15,1],[489,13,489,83,1],[492,13,492,76,1],[495,13,495,37,1],[496,9,496,10,1],[500,9,500,10,1],[502,13,502,48,1],[505,13,505,67,1],[505,67,505,110,1],[505,110,505,112,1],[506,9,506,10,1],[510,9,510,10,1],[512,13,529,15,1],[532,13,532,63,1],[532,63,532,106,1],[532,106,532,108,1],[533,9,533,10,1],[537,9,537,10,1],[539,13,539,59,1],[542,13,542,64,1],[545,13,545,37,1],[546,9,546,10,1]]);
    </script>
  </body>
</html>