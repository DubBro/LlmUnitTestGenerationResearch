<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>D:\Programming\Projects\LlmUnitTestGenerationArtifacts\Gemini3ProUnitTests\Sample20Tests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Dataset.Sample20;

namespace Gemini3ProUnitTests;

public class FisherYatesShufflerTests
{
    [Fact]
    public void Shuffle_WhenArrayIsNull_ThrowsNullReferenceException()
    {
        // Arrange
        var shuffler = new FisherYatesShuffler&lt;int&gt;();
        int[]? array = null;

        // Act &amp; Assert
        Assert.Throws&lt;NullReferenceException&gt;(() =&gt; shuffler.Shuffle(array!));
    }

    [Fact]
    public void Shuffle_WhenArrayIsEmpty_DoesNotChangeArray()
    {
        // Arrange
        var shuffler = new FisherYatesShuffler&lt;int&gt;();
        var array = Array.Empty&lt;int&gt;();

        // Act
        shuffler.Shuffle(array);

        // Assert
        Assert.Empty(array);
    }

    [Fact]
    public void Shuffle_WhenArrayHasOneElement_DoesNotChangeArray()
    {
        // Arrange
        var shuffler = new FisherYatesShuffler&lt;string&gt;();
        var array = new[] { &quot;SingleItem&quot; };
        var expected = new[] { &quot;SingleItem&quot; };

        // Act
        shuffler.Shuffle(array);

        // Assert
        Assert.Equal(expected, array);
    }

    [Fact]
    public void Shuffle_WhenSeedIsProvided_ProducesDeterministicResult()
    {
        // Arrange
        var shuffler = new FisherYatesShuffler&lt;int&gt;();
        var seed = 12345;
        var array1 = Enumerable.Range(0, 50).ToArray();
        var array2 = Enumerable.Range(0, 50).ToArray();

        // Act
        shuffler.Shuffle(array1, seed);
        shuffler.Shuffle(array2, seed);

        // Assert
        Assert.Equal(array1, array2);
    }

    [Fact]
    public void Shuffle_WhenSeedIsProvided_ModifiesOrderForLargeArray()
    {
        // Arrange
        var shuffler = new FisherYatesShuffler&lt;int&gt;();
        var seed = 42;
        var original = Enumerable.Range(0, 100).ToArray();
        var array = original.ToArray();

        // Act
        shuffler.Shuffle(array, seed);

        // Assert
        // Check that the order has changed
        Assert.NotEqual(original, array);
        // Check that elements are preserved (multiset equality)
        Assert.Equal(original.OrderBy(x =&gt; x), array.OrderBy(x =&gt; x));
    }

    [Theory]
    [InlineData(100)]
    [InlineData(0)]
    [InlineData(-5)]
    public void Shuffle_WhenSeedIsProvided_PreservesAllElements(int seed)
    {
        // Arrange
        var shuffler = new FisherYatesShuffler&lt;char&gt;();
        var original = new[] { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39; };
        var array = original.ToArray();

        // Act
        shuffler.Shuffle(array, seed);

        // Assert
        Assert.Equal(original.Length, array.Length);
        Assert.Equal(original.OrderBy(x =&gt; x), array.OrderBy(x =&gt; x));
    }

    [Fact]
    public void Shuffle_WhenNoSeedIsProvided_PreservesAllElements()
    {
        // Arrange
        var shuffler = new FisherYatesShuffler&lt;int&gt;();
        var original = new[] { 1, 2, 3, 4, 5 };
        var array = original.ToArray();

        // Act
        shuffler.Shuffle(array); // Non-deterministic

        // Assert
        // We cannot guarantee the order, but we must guarantee the contents are preserved
        Assert.Equal(original.Length, array.Length);
        Assert.Equal(original.OrderBy(x =&gt; x), array.OrderBy(x =&gt; x));
    }

    [Fact]
    public void Shuffle_WhenCalledWithComplexObjects_ShufflesReferencesCorrectly()
    {
        // Arrange
        var shuffler = new FisherYatesShuffler&lt;object&gt;();
        var obj1 = new object();
        var obj2 = new object();
        var obj3 = new object();
        var original = new[] { obj1, obj2, obj3 };
        var array = original.ToArray();

        // Act
        shuffler.Shuffle(array, seed: 99);

        // Assert
        Assert.Equal(original.Length, array.Length);
        foreach (var item in original)
        {
            Assert.Contains(item, array);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[9,5,9,6,1],[11,9,11,55,1],[12,9,12,29,1],[15,9,15,53,1],[15,53,15,77,1],[15,77,15,79,1],[16,5,16,6,1],[20,5,20,6,1],[22,9,22,55,1],[23,9,23,40,1],[26,9,26,33,1],[29,9,29,29,1],[30,5,30,6,1],[34,5,34,6,1],[36,9,36,58,1],[37,9,37,44,1],[38,9,38,47,1],[41,9,41,33,1],[44,9,44,39,1],[45,5,45,6,1],[49,5,49,6,1],[51,9,51,55,1],[52,9,52,26,1],[53,9,53,56,1],[54,9,54,56,1],[57,9,57,40,1],[58,9,58,40,1],[61,9,61,38,1],[62,5,62,6,1],[66,5,66,6,1],[68,9,68,55,1],[69,9,69,23,1],[70,9,70,59,1],[71,9,71,40,1],[74,9,74,39,1],[78,9,78,42,1],[80,9,80,44,1],[80,44,80,45,1],[80,45,80,67,1],[80,67,80,68,1],[80,68,80,71,1],[81,5,81,6,1],[88,5,88,6,1],[90,9,90,56,1],[91,9,91,58,1],[92,9,92,40,1],[95,9,95,39,1],[98,9,98,53,1],[99,9,99,44,1],[99,44,99,45,1],[99,45,99,67,1],[99,67,99,68,1],[99,68,99,71,1],[100,5,100,6,1],[104,5,104,6,1],[106,9,106,55,1],[107,9,107,48,1],[108,9,108,40,1],[111,9,111,33,1],[115,9,115,53,1],[116,9,116,44,1],[116,44,116,45,1],[116,45,116,67,1],[116,67,116,68,1],[116,68,116,71,1],[117,5,117,6,1],[121,5,121,6,1],[123,9,123,58,1],[124,9,124,33,1],[125,9,125,33,1],[126,9,126,33,1],[127,9,127,51,1],[128,9,128,40,1],[131,9,131,43,1],[134,9,134,53,1],[135,9,135,16,1],[135,18,135,26,1],[135,27,135,29,1],[135,30,135,38,1],[136,9,136,10,1],[137,13,137,42,1],[138,9,138,10,1],[139,5,139,6,1]]);
    </script>
  </body>
</html>